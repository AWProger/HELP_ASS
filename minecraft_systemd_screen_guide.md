# üü¢ –ì–∞–π–¥ –ø–æ Minecraft-—Å–µ—Ä–≤–µ—Ä—É —Å systemd + screen

–≠—Ç–æ—Ç –≥–∞–π–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å Minecraft-—Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `systemd`, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `screen` –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∂–∏–≤–æ–π –∫–æ–Ω—Å–æ–ª–∏ –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ª–æ–≥–∏.

---

## 1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
sudo systemctl status minecraft.service
```

- `Active: active (running)` ‚Äî —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω  
- `Active: failed` ‚Äî —Å–µ—Ä–≤–µ—Ä —É–ø–∞–ª, –Ω—É–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥

---

## 2Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã

```bash
sudo systemctl enable minecraft.service
```

- –°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ Linux  
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞:

```bash
systemctl is-enabled minecraft.service
# –≤—ã–≤–µ–¥–µ—Ç: enabled
```

---

## 3Ô∏è‚É£ –†—É—á–Ω–æ–π —Å—Ç–∞—Ä—Ç / —Å—Ç–æ–ø / –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

```bash
sudo systemctl start minecraft.service      # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
sudo systemctl stop minecraft.service       # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
sudo systemctl restart minecraft.service    # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```

---

## 4Ô∏è‚É£ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∂–∏–≤–æ–π –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞

Minecraft –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ **screen-—Å–µ—Å—Å–∏–∏**:

```bash
screen -r mc2kotmc
```

- –í–∏–¥–∏—à—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  
- –ú–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```
stop
op AWProger
say –ü—Ä–∏–≤–µ—Ç –∏–≥—Ä–æ–∫–∞–º!
```

- –ß—Ç–æ–±—ã –≤—ã–π—Ç–∏, –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è —Å–µ—Ä–≤–µ—Ä:

```
Ctrl+A ‚Üí D
```

- –î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```bash
screen -r mc2kotmc
```

---

## 5Ô∏è‚É£ –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞

- –õ–æ–≥–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ:  
```
/home/mcadmin/servers/2kotmc/logs/
```

- –ü–æ—Å–ª–µ–¥–Ω–∏–π –ª–æ–≥ —á–µ—Ä–µ–∑ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É `latest.log`:

```bash
tail -f /home/mcadmin/servers/2kotmc/logs/latest.log
```

- –ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ –±–∏—Ç–∞—è ‚Äî —Å–º–æ—Ç—Ä–∏ —Ä–µ–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª:

```bash
ls -l /home/mcadmin/servers/2kotmc/logs/
tail -f /home/mcadmin/servers/2kotmc/logs/server_YYYY-MM-DD_HH-MM-SS.log
```

---

## 6Ô∏è‚É£ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ systemd

```bash
sudo systemctl stop minecraft.service
```

- systemd –≤—ã–ø–æ–ª–Ω–∏—Ç `ExecStop` –∏–∑ unit-—Ñ–∞–π–ª–∞, –∑–∞–∫—Ä–æ–µ—Ç screen –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç —Å–µ—Ä–≤–µ—Ä  
- –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è

---

## 7Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤ (–µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç)

Minecraft —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç `25565`. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:

```bash
sudo ss -tuln | grep 25565
```

- –ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç ‚Äî –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω—É–∂–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ –∏–ª–∏ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç

---

## 8Ô∏è‚É£ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

- –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ–Ω—Å–æ–ª–∏:  
```bash
screen -r mc2kotmc
```

- –û—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è:  
```
Ctrl+A ‚Üí D
```

- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ systemd:  
```bash
sudo systemctl restart minecraft.service
```

- –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:  
```bash
tail -f /home/mcadmin/servers/2kotmc/logs/latest.log
```

---

## 9Ô∏è‚É£ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–π —Å—Ö–µ–º—ã

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ä—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã  
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –∂–∏–≤–æ–π –∫–æ–Ω—Å–æ–ª–∏ —á–µ—Ä–µ–∑ SSH –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç  
- Systemd –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏—è—Ö  
- –õ–æ–≥–∏ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –∏–≥—Ä–æ–∫–∞–º–∏

---

üí° **–°–æ–≤–µ—Ç:**  

- `screen` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–µ  
- systemd —Å–ª–µ–¥–∏—Ç –∑–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é —Å–µ—Ä–≤–µ—Ä–∞  
- –õ–æ–≥–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ—à–∏–±–æ–∫ –∏–ª–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤

---

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å **–≥–æ—Ç–æ–≤—ã–π run.sh + systemd unit**, –≥–¥–µ:  

1. –ê–≤—Ç–æ-–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd  
2. –õ–æ–≥ `latest.log` –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π  
3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Å–æ–ª–∏ —á–µ—Ä–µ–∑ screen  
4. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –ª–æ–≥–æ–≤